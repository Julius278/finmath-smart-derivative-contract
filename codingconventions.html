<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/markdown/codingconventions.md at 2022-09-29
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20220929" />
    <meta http-equiv="Content-Language" content="en" />
    <title>finmath-smart-derivative-contract &#x2013; Coding Conventions</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarEnabled">
    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
            <ul class="nav">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">finmath smart derivative contract <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="index.html" title="Introduction">Introduction</a></li>
            <li><a href="apidocs" title="API Documentation">API Documentation</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="project-info.html" title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                  <li><a href="index.html" title="About">About</a></li>
                  <li><a href="summary.html" title="Summary">Summary</a></li>
                  <li><a href="scm.html" title="Source Code Management">Source Code Management</a></li>
                  <li><a href="distribution-management.html" title="Distribution Management">Distribution Management</a></li>
                  <li><a href="dependency-info.html" title="Dependency Information">Dependency Information</a></li>
                  <li><a href="dependencies.html" title="Dependencies">Dependencies</a></li>
                  <li><a href="issue-management.html" title="Issue Management">Issue Management</a></li>
                  <li><a href="licenses.html" title="Licenses">Licenses</a></li>
                  <li><a href="team.html" title="Team">Team</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
<a href="project-reports.html" title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                  <li><a href="apidocs/index.html" title="Javadoc">Javadoc</a></li>
              </ul>
            </li>
        </ul>
      </li>
            </ul>
            <ul class="nav pull-right">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">External Links <b class="caret"></b></a>
                <ul class="dropdown-menu">
    <li><a href="../" title="finmath.net">finmath.net</a></li>
                </ul>
              </li>
            </ul>
            </div>
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="../finmath-smart-derivative-contract" id="bannerLeft"><h2>finmath smart derivative contract</h2>
</a></div>
        <div class="pull-right"><a href=".." id="bannerRight"><img src="../artwork/logo.png"  alt="finmath.net" width="60"/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2022-09-29<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 0.1.8-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">finmath smart derivative contract</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="apidocs" title="API Documentation"><span class="none"></span>API Documentation</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
</ul>
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="www.finmath.net/finmath-lib" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
    <div id="twitter">
    <a href="https://twitter.com/finmathnet" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow finmathnet</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Coding Conventions</h1>
<p>Below you find some high level design principles. With respect to the low-level code style, see the checkstyle file.</p><section>
<h2><a name="Design_Principles"></a>Design Principles</h2><section>
<h3><a name="Implementation_against_Interfaces"></a>Implementation against Interfaces</h3>
<p>The library is developed to allow users to focus on its interfaces. Code should implement against an interface (e.g., the left hand side of an assignment should be an interface).</p></section><section>
<h3><a name="Naming.2C_Code_is_Documentation"></a>Naming, Code is Documentation</h3>
<p>Class names, member names and variable names are as descriptive as possible (feasible). Names are formed using camel notation from the general to the special property. Implementation details are appended. Examples:</p>
<ul>

<li><code>periodStart</code></li>
<li><code>periodEnd</code></li>
<li><code>RandomVariableFromDoubleArray</code></li>
<li><code>DiscountCurveInterpolation</code></li>
</ul>
<p>A reassignment of a reference that alters the meaning should be avoided. A temporary assignment with a different meaning should be avoided. Example:</p>
<p>Wrong:</p>

<div>
<div>
<pre class="source">	var discountFactor = (1 + forwardRate * periodLength);
	discountFactor = 1.0/discountFactor;
</pre></div></div>

<p>Correct:</p>

<div>
<div>
<pre class="source">	var forwardBond = (1 + forwardRate * periodLength);
	var discountFactor = 1.0/forwardBond;
</pre></div></div>
<section>
<h4><a name="Naming_of_Interfaces"></a>Naming of Interfaces</h4>
<p>Interfaces should come with names describing the core concept (like <code>BrownianMotion</code>  or <code>RandomVariable</code> or <code>Curve</code>). Implementations pick up the name of the main interface followed by a specification of an implementation aspect (like <code>RandomVariableFromDoubleArray</code>).</p></section><section>
<h4><a name="Naming_of_Collections"></a>Naming of Collections</h4>
<p>Collections are named as the plural of their items. Example:</p>

<div>
<div>
<pre class="source">	Period period = periods.get(periodIndex);
</pre></div></div>

<p>In cases where it adds clarity the collection type can be used as a suffix instead of the plural. Example:</p>

<div>
<div>
<pre class="source">	RandomVariable sensitivity = sensitivityMap.get(riskFactor);
</pre></div></div>
</section><section>
<h4><a name="Naming_of_Arguments"></a>Naming of Arguments</h4>
<p>If constructor arguments or setter (builder) arguments are used to set fields, the field and the argument have the same name, i.e., we use</p>

<div>
<div>
<pre class="source">	private final double value;
	
	Skalar(double value) {
		this.value = value;
	}
</pre></div></div>
</section></section><section>
<h3><a name="Naming_of_Unit_Tests"></a>Naming of Unit Tests</h3>
<p>Unit test names are end with the word <code>Test</code> and formed as XxxYyyTest where Xxx is the name of the primary class being under test (it may be that a tests is testing a broader aspect of the class) and Yyy optionally specifies an aspect. Example: <code>LIBORMarketModelCalibrationTest</code>. The methods of the unit test start with the word <code>test</code>.</p></section><section>
<h3><a name="Thread_Safety"></a>Thread Safety</h3>
<p>The library is developed with thread safety in mind.</p>
<ul>

<li>Classes prefer a design resulting in <i>effectively immutable object</i>.
<ul>

<li>Method calls are idempotent.</li>
<li>Method calls are free of side effects.</li>
</ul>
</li>
<li>Members are final whenever possible.</li>
</ul></section><section>
<h3><a name="Lazy_Initialization"></a>Lazy Initialization</h3>
<p>The library utilized lazy initialization for time consuming task. Object construction is expected to require minimal resources.</p></section><section>
<h3><a name="Serialization"></a>Serialization</h3>
<p>The library is developed with object serialization in mind.</p>
<ul>

<li>Classes should implement the <code>Serializable</code> interface.</li>
</ul></section></section><section>
<h2><a name="Language"></a>Language</h2><section>
<h3><a name="Language_Extensions"></a>Language Extensions</h3>
<p>The code is written in Java. That is, it avoids language extensions like <i>Lombok</i>.</p></section><section>
<h3><a name="Java_Modules"></a>Java Modules</h3>
<p>Starting with version 5.x the library will export Java 9 modules.</p></section></section><section>
<h2><a name="Language"></a>Language</h2><section>
<h3><a name="Language_Extensions"></a>Language Extensions</h3>
<p>The code is written in Java. That is, it avoids language extensions like <i>Lombok</i>.</p></section><section>
<h3><a name="Java_Modules"></a>Java Modules</h3>
<p>Starting with version 5.x the library will export Java 9 modules.</p></section></section><section>
<h2><a name="Other_Principles"></a>Other Principles</h2>
<ul>

<li>Code in <code>src/main</code> should conform to DRY (don&#x2019;t repeat yourself). Unit tests in <code>src/test</code> should be self-contained and code duplication (e.g. create a model for a specific purpose) is fine.</li>
</ul></section><section>
<h2><a name="Documentation"></a>Documentation</h2><section>
<h3><a name="JavaDoc_with_MathJax"></a>JavaDoc with MathJax</h3>
<p>Every public interface, class, method, enum comes with a complete JavaDoc. If there are mathematical formulas, we use MathJax. (MathJax is available due to a configuration in the Maven pom.xml).</p></section></section><section>
<h2><a name="Code_Style"></a>Code Style</h2>
<p>We follow loosely the Eclipse coding conventions, which are a minimal modification of the original Java coding conventions. See <a class="externalLink" href="https://wiki.eclipse.org/Coding_Conventions">https://wiki.eclipse.org/Coding_Conventions</a></p>
<p>See also the Spring coding conventions, see <a class="externalLink" href="https://github.com/spring-projects/spring-framework/wiki/Code-Style">https://github.com/spring-projects/spring-framework/wiki/Code-Style</a></p>
<p>We repeat some of the aspects:</p>
<ul>

<li>

<p>Indentation uses a single TAB character (as for the Spring coding convention and the Eclipse coding convention).</p>
</li>
<li>

<p>Files are UTF-8 encoded with Unit line endings.</p>
</li>
<li>

<p>Lines do not have trailing whiltespaces.</p>
</li>
</ul>
<p>We deviate in some places:</p>
<ul>

<li>

<p>We allow for long code lines. Some coding conventions limit the length of a line to something like 80 characters (like FORTRAN did in the 70&#x2019;ies). Given widescreen monitors we believe that line wrapping makes code much harder to read than code with long(er) lines.</p>
</li>
<li>

<p>We usually do not make a space after statements like <code>&#xed;f</code>, <code>for</code>. We interpret <code>&#xed;f</code> and <code>for</code> as functions and for functions and methods we do not have a space between the name and the argument list either. That is, we write</p>
</li>
</ul>

<div>
<div>
<pre class="source">    if(condition) {
      // code
    }
</pre></div></div>

<p>The project is using a checkstyle profile, which currently only a very limited set of style issues. See <a class="externalLink" href="https://github.com/finmath/finmath-lib/blob/master/finmath-checkstyle.xml">finmath-checkstyle.xml</a>.</p></section>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2022.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>